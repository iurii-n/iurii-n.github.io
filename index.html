<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Gift</title>
    <style>
        body {
            font-family: Lato;
            text-align: center;
        }
        .tag-cloud {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .tag {
            margin: 10px;
            padding: 4px 10px;
            font-size: 1.5rem;
            line-height: 1.75;
            background-color: transparent; /* –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1); /* –¢–µ–Ω—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
        }
        .popup {
            position: fixed;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 6px;
            visibility: hidden;
            opacity: 0;
            transition: all 0.5s ease-in-out;
            z-index: -1; /* Hide it in the back of the page */
        }
        .popup.show {
            visibility: visible;
            opacity: 1;
            z-index: 200;
        }
        #get-gift-btn,#close-popup {
            background-color: transparent;
            border: 1px solid #ccc;
            border-radius: 6px;
            padding: 10px 20px;
            font-size: 1.5rem;
            cursor: pointer;
            margin-top: 20px; /* –î–æ–±–∞–≤—å—Ç–µ –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –¥–ª—è –∫–Ω–æ–ø–∫–∏ */
        }
        #get-gift-btn:hover,#close-popup:hover {
            background-color: rgba(233, 30, 99, 1);
        }
        #gift {
            margin: 10px;
            padding: 4px 10px;
            font-size: 1.5rem;
            line-height: 1.75;
            background-color: transparent; /* –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1); /* –¢–µ–Ω—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
        }
        .dice-animation {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
        }
        .dice-animation.show {
            display: block;
        }
        .dice-animation img {
            width: 100px; /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–π —Ä–∞–∑–º–µ—Ä */
            height: 100px; /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–π —Ä–∞–∑–º–µ—Ä */
        }
        .shake {
            animation: shake 0.5s;
        }

        #h-image{
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        #gift-image {
            width: 150px;
            height: 150px;

        }

@keyframes shake {
    0% { transform: translateX(0); }
    20% { transform: translateX(-5px); }
    40% { transform: translateX(5px); }
    60% { transform: translateX(-5px); }
    80% { transform: translateX(5px); }
    100% { transform: translateX(0); }
}
    </style>
</head>
<body>
    <div class="h" id="h-image">
        <img src="https://media.tenor.com/7EEiHjbv4BQAAAAi/pusheen-gift-wrapping.gif" alt="cat Animation" id="gift-image"/>
    </div>
    <div class="tag-cloud" id="tag-cloud"></div>
    <button id="get-gift-btn">üêæ Get</button>
    <div class="dice-animation" id="dice-animation">
        <img src="https://media.tenor.com/qYYeQ6hkWmYAAAAi/popcorn-pop-corn.gif" alt="Dice Animation" />
    </div>
    <div class="popup" id="popup">
        <h1>Your Gift:</h1>
        <p id="gift"></p>
        <button id="close-popup">Close</button>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ –º–∞—Å—Å–∏–≤–∞
        function getRandomElement(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ —Å –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å—é –∫ –±–µ–ª–æ–º—É —Ñ–æ–Ω—É
      function getRandomColor() {
          let r, g, b;
          do {
              r = Math.floor(Math.random() * 256);
              g = Math.floor(Math.random() * 256);
              b = Math.floor(Math.random() * 256);
          } while (isTooLight(r, g, b)); // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–≤–µ—Ç–ª–æ—Å—Ç—å
          return `rgb(${r}, ${g}, ${b})`;
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ü–≤–µ—Ç —Å–ª–∏—à–∫–æ–º —Å–≤–µ—Ç–ª—ã–º
      function isTooLight(r, g, b) {
          const brightness = (r * 299 + g * 587 + b * 114) / 1000;
          return brightness > 200; // –ï—Å–ª–∏ —è—Ä–∫–æ—Å—Ç—å –±–æ–ª—å—à–µ 200, —Ü–≤–µ—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Å–≤–µ—Ç–ª—ã–º
      }

        // –ú–∞—Å—Å–∏–≤ –ø–æ–¥–∞—Ä–∫–æ–≤
        const giftList = ['Your other one','Yandex station 2', 'Telegram premium', 'Waffle iron', 'Earrings'];

        // –í—ã–≤–æ–¥ —Ç–µ–≥–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
        const tagCloud = document.getElementById('tag-cloud');
        const giftColors = []; // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤
        giftList.forEach((gift, index) => {
            const tag = document.createElement('div');
            tag.classList.add('tag');
            const color = getRandomColor();
            tag.style.color = color; // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞
            giftColors.push(color); // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞
            tag.textContent = gift;
            tagCloud.appendChild(tag);
        });

      let clickCount = 0;

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "Get"
      document.getElementById('get-gift-btn').addEventListener('click', () => {
          clickCount++;
          if (clickCount > 1) {
              const getGiftBtn = document.getElementById('get-gift-btn');
              getGiftBtn.classList.add('shake');
              setTimeout(() => {
                  getGiftBtn.classList.remove('shake');
              }, 500); // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å —á–µ—Ä–µ–∑ 0.5 —Å–µ–∫—É–Ω–¥—ã
          }else{

          // –û—Å—Ç–∞–ª—å–Ω–æ–π –≤–∞—à –∫–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É "Get"
          const diceAnimation = document.getElementById('dice-animation');
          diceAnimation.classList.add('show');
          const randomIndex = Math.floor(Math.random() * giftList.length);
          const randomGift = giftList[randomIndex];
          const popup = document.getElementById('popup');
          const giftElement = document.getElementById('gift');
          giftElement.textContent = randomGift;
          giftElement.style.color = giftColors[randomIndex]; // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞

          // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–æ–∫–∞–∑ –ø–æ–ø–∞–ø–∞ —á–µ—Ä–µ–∑ —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç 5 –¥–æ 10 —Å–µ–∫—É–Ω–¥
          setTimeout(() => {
              diceAnimation.classList.remove('show');
              popup.classList.add('show');
          }, Math.floor(Math.random() * 5000) + 5000); // 5-10 —Å–µ–∫—É–Ω–¥
          }
      });

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "Close" –≤ –ø–æ–ø–∞–ø–µ
      document.getElementById('close-popup').addEventListener('click', () => {
          const popup = document.getElementById('popup');
          popup.classList.remove('show');
          clickCount = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏–π
      });

    </script>
</body>
</html>